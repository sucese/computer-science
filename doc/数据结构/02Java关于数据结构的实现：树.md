# Javaå…³äºæ•°æ®ç»“æ„çš„å®ç°ï¼šæ ‘

**å…³äºä½œè€…**

>éƒ­å­æ˜Ÿï¼Œéè‘—åç¨‹åºå‘˜ï¼Œä¸»è¦ä»äº‹Androidå¹³å°åŸºç¡€æ¶æ„ä¸ä¸­é—´ä»¶æ–¹é¢çš„å·¥ä½œï¼Œæ¬¢è¿äº¤æµæŠ€æœ¯æ–¹é¢çš„é—®é¢˜ï¼Œå¯ä»¥å»æˆ‘çš„[Github](https://github.com/guoxiaoxing)æäº¤Issueæˆ–è€…å‘é‚®ä»¶è‡³guoxiaoxingse@163.comä¸æˆ‘è”ç³»ã€‚

**æ–‡ç« ç›®å½•**

- ä¸€ æ ‘çš„æ¦‚å¿µä¸åº”ç”¨åœºæ™¯
    - 1.1 äºŒå‰æŸ¥æ‰¾æ ‘
    - 1.2 å¹³è¡¡äºŒå‰æ ‘
    - 1.3 Bæ ‘
    - 1.4 çº¢é»‘æ ‘
- äºŒ æ ‘çš„æ“ä½œä¸æºç å®ç°
    - 2.1 TreeMapå®ç°åŸç†
    - 2.2 TreeSetå®ç°åŸç†

## ä¸€ æ ‘çš„æ¦‚å¿µä¸åº”ç”¨åœºæ™¯

>æ ‘æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰æˆ–æ˜¯å®ä½œè¿™ç§æŠ½è±¡æ•°æ®ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æ„æ€§è´¨çš„æ•°æ®é›†åˆã€‚å®ƒæ˜¯ç”±nï¼ˆn>0ï¼‰ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆä¸€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚æŠŠ
å®ƒå«åšâ€œæ ‘â€æ˜¯å› ä¸ºå®ƒçœ‹èµ·æ¥åƒä¸€æ£µå€’æŒ‚çš„æ ‘ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯æ ¹æœä¸Šï¼Œè€Œå¶æœä¸‹çš„ã€‚

æ ‘æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- æ¯ä¸ªèŠ‚ç‚¹æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ï¼›
- æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹ï¼›
- æ¯ä¸€ä¸ªéæ ¹èŠ‚ç‚¹æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼›
- é™¤äº†æ ¹èŠ‚ç‚¹å¤–ï¼Œæ¯ä¸ªå­èŠ‚ç‚¹å¯ä»¥åˆ†ä¸ºå¤šä¸ªä¸ç›¸äº¤çš„å­æ ‘ï¼›

ä¸æ ‘ç›¸å…³çš„æ¦‚å¿µ

- èŠ‚ç‚¹çš„åº¦ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„ä¸ªæ•°ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„åº¦ï¼›
- æ ‘çš„åº¦ï¼šä¸€æ£µæ ‘ä¸­ï¼Œæœ€å¤§çš„èŠ‚ç‚¹çš„åº¦ç§°ä¸ºæ ‘çš„åº¦ï¼›
- å¶èŠ‚ç‚¹æˆ–ç»ˆç«¯èŠ‚ç‚¹ï¼šåº¦ä¸ºé›¶çš„èŠ‚ç‚¹ï¼›
- éç»ˆç«¯èŠ‚ç‚¹æˆ–åˆ†æ”¯èŠ‚ç‚¹ï¼šåº¦ä¸ä¸ºé›¶çš„èŠ‚ç‚¹ï¼›
- çˆ¶äº²èŠ‚ç‚¹æˆ–çˆ¶èŠ‚ç‚¹ï¼šè‹¥ä¸€ä¸ªèŠ‚ç‚¹å«æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™è¿™ä¸ªèŠ‚ç‚¹ç§°ä¸ºå…¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼›
- å­©å­èŠ‚ç‚¹æˆ–å­èŠ‚ç‚¹ï¼šä¸€ä¸ªèŠ‚ç‚¹å«æœ‰çš„å­æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼›
- å…„å¼ŸèŠ‚ç‚¹ï¼šå…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹äº’ç§°ä¸ºå…„å¼ŸèŠ‚ç‚¹ï¼›
- èŠ‚ç‚¹çš„å±‚æ¬¡ï¼šä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬1å±‚ï¼Œæ ¹çš„å­èŠ‚ç‚¹ä¸ºç¬¬2å±‚ï¼Œä»¥æ­¤ç±»æ¨ï¼›
- æ·±åº¦ï¼šå¯¹äºä»»æ„èŠ‚ç‚¹n, nçš„æ·±åº¦ä¸ºä»æ ¹åˆ°nçš„å”¯ä¸€è·¯å¾„é•¿ï¼Œæ ¹çš„æ·±åº¦ä¸º0ï¼›
- é«˜åº¦ï¼šå¯¹äºä»»æ„èŠ‚ç‚¹n, nçš„é«˜åº¦ä¸ºä»nåˆ°ä¸€ç‰‡æ ‘å¶çš„æœ€é•¿è·¯å¾„é•¿ï¼Œæ‰€æœ‰æ ‘å¶çš„é«˜åº¦ä¸º0ï¼›
- å ‚å…„å¼ŸèŠ‚ç‚¹ï¼šçˆ¶èŠ‚ç‚¹åœ¨åŒä¸€å±‚çš„èŠ‚ç‚¹äº’ä¸ºå ‚å…„å¼Ÿï¼›
- èŠ‚ç‚¹çš„ç¥–å…ˆï¼šä»æ ¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»åˆ†æ”¯ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ï¼›
- å­å­™ï¼šä»¥æŸèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­ä»»ä¸€èŠ‚ç‚¹éƒ½ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­å­™ã€‚
- æ£®æ—ï¼šç”±mï¼ˆm>=0ï¼‰æ£µäº’ä¸ç›¸äº¤çš„æ ‘çš„é›†åˆç§°ä¸ºæ£®æ—ï¼›

æ³¨ï¼šå‚ç…§äº²æˆšå…³ç³»ï¼Œè¿™äº›æ¦‚å¿µå¾ˆå¥½ç†è§£ï¼Œå®¶æ—è°±ä¹Ÿæ˜¯ä¸€ç§æ ‘ç»“æ„ã€‚ğŸ˜€

æ ‘çš„åˆ†ç±»

- æ— åºæ ‘ï¼šæ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰é¡ºåºå…³ç³»ï¼Œè¿™ç§æ ‘ç§°ä¸ºæ— åºæ ‘ï¼Œä¹Ÿç§°ä¸ºè‡ªç”±æ ‘ï¼›
- æœ‰åºæ ‘ï¼šæ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹‹é—´æœ‰é¡ºåºå…³ç³»ï¼Œè¿™ç§æ ‘ç§°ä¸ºæœ‰åºæ ‘ï¼›

å…¶ä¸­æœ‰åºæ ‘åˆåˆ†ä¸ºï¼š

- äºŒå‰æ ‘ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå«æœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç§°ä¸ºäºŒå‰æ ‘ï¼›
- å®Œå…¨äºŒå‰æ ‘ï¼šå¯¹äºä¸€é¢—äºŒå‰æ ‘ï¼Œå‡è®¾å…¶æ·±åº¦ä¸ºdï¼ˆd>1ï¼‰ã€‚é™¤äº†ç¬¬då±‚å¤–ï¼Œå…¶å®ƒå„å±‚çš„èŠ‚ç‚¹æ•°ç›®å‡å·²è¾¾æœ€å¤§å€¼ï¼Œä¸”ç¬¬då±‚æ‰€æœ‰èŠ‚ç‚¹ä»å·¦å‘å³è¿ç»­åœ°ç´§å¯†æ’åˆ—ï¼Œè¿™æ ·çš„äºŒå‰æ ‘è¢«ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ï¼›
- æ»¡äºŒå‰æ ‘ï¼šæ‰€æœ‰å¶èŠ‚ç‚¹éƒ½åœ¨æœ€åº•å±‚çš„å®Œå…¨äºŒå‰æ ‘ï¼›
- å¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLæ ‘ï¼‰ï¼šå½“ä¸”ä»…å½“ä»»ä½•èŠ‚ç‚¹çš„ä¸¤æ£µå­æ ‘çš„é«˜åº¦å·®ä¸å¤§äº1çš„äºŒå‰æ ‘ï¼›
- äºŒå‰æŸ¥æ‰¾æ ‘ï¼šæ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå®ƒçš„å·¦å­æ ‘ä¸­æ‰€æœ‰é¡¹å°äºXä¸­çš„é¡¹ï¼Œå®ƒçš„å³å­æ ‘ä¸­çš„æ‰€æœ‰é¡¹å¤§äºXä¸­çš„é¡¹ã€‚
- éœå¤«æ›¼æ ‘ï¼šå¸¦æƒè·¯å¾„æœ€çŸ­çš„äºŒå‰æ ‘ç§°ä¸ºå“ˆå¤«æ›¼æ ‘æˆ–æœ€ä¼˜äºŒå‰æ ‘ï¼›
- Bæ ‘ï¼šä¸€ç§å¯¹è¯»å†™æ“ä½œè¿›è¡Œä¼˜åŒ–çš„è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºï¼Œæ‹¥æœ‰å¤šä½™ä¸¤ä¸ªå­æ ‘ã€‚


### 1.1 äºŒå‰æŸ¥æ‰¾æ ‘

### 1.1 å¹³è¡¡äºŒå‰æ ‘

### 1.1 Bæ ‘

### 1.1 çº¢é»‘æ ‘

>çº¢é»‘æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘çš„å˜ç§ï¼Œå®ƒçš„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(logN).

çº¢é»‘æ ‘æ˜¯ä¸€ç§å…·æœ‰ç€è‰²æ€§è´¨çš„æ ‘ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- æ¯ä¸ªèŠ‚ç‚¹è¢«ç€æˆçº¢è‰²æˆ–è€…é»‘è‰²
- æ ¹æ˜¯é»‘è‰²çš„
- å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œé‚£ä¹ˆä»–é¢å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚
- ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°ä¸€ä¸ªnullå¼•ç”¨çš„æ¯ä¸€æ¡è·¯å¾„å¿…é¡»åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚

## äºŒ æ ‘çš„æ“ä½œä¸æºç å®ç°

åœ¨æ–‡ç« [01Javaå…³äºæ•°æ®ç»“æ„çš„å®ç°ï¼šè¡¨ã€æ ˆä¸é˜Ÿåˆ—](https://github.com/guoxiaoxing/data-structure-and-algorithm/blob/master/doc/æ•°æ®ç»“æ„/01Javaå…³äºæ•°æ®ç»“æ„çš„å®ç°ï¼šè¡¨ã€æ ˆä¸é˜Ÿåˆ—.md)ä¸­æˆ‘ä»¬
è®¨è®ºäº†ArrayListä¸LinkedListçš„å®ç°ï¼Œå®ƒä»¬çš„ç“¶é¢ˆåœ¨äºæŸ¥æ‰¾æ•ˆç‡ä½ä¸‹ã€‚å› è€ŒJavaé›†åˆè®¾è®¡äº†Setä¸Mapæ¥å£ï¼Œå®ƒä»¬åœ¨æ’å…¥ã€åˆ é™¤ä¸æŸ¥æ‰¾ç­‰åŸºæœ¬æ“ä½œéƒ½æœ‰è‰¯å¥½çš„è¡¨ç°ã€‚

### 2.1 TreeMapå®ç°åŸç†

>TreeMapæ˜¯ä¸€ä¸ªåŸºäºçº¢é»‘æ ‘å®ç°çš„é›†åˆï¼Œå®ƒå¯ä»¥å¯¹é‡Œé¢çš„å…ƒç´ è¿›è¡Œæ’åºã€‚

æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®ƒçš„æˆå‘˜å˜é‡

```java
//æ¯”è¾ƒå™¨
private final Comparator<? super K> comparator;
//æ ¹èŠ‚ç‚¹
private transient TreeMapEntry<K,V> root = null;
//é›†åˆå¤§å°
private transient int size = 0;
//ä¿®æ”¹æ¬¡æ•°
private transient int modCount = 0;
```

TreeMapé‡Œé¢å®šä¹‰äº†é™æ€å†…éƒ¨ç±»TreeMapEntryæ¥æè¿°èŠ‚ç‚¹ä¿¡æ¯ã€‚

```java
   static final class TreeMapEntry<K,V> implements Map.Entry<K,V> {
        K key;
        V value;
        TreeMapEntry<K,V> left = null;
        TreeMapEntry<K,V> right = null;
        TreeMapEntry<K,V> parent;
        boolean color = BLACK;

        /**
         * Make a new cell with given key, value, and parent, and with
         * {@code null} child links, and BLACK color.
         */
        TreeMapEntry(K key, V value, TreeMapEntry<K,V> parent) {
            this.key = key;
            this.value = value;
            this.parent = parent;
        }

        /**
         * Returns the key.
         *
         * @return the key
         */
        public K getKey() {
            return key;
        }

        /**
         * Returns the value associated with the key.
         *
         * @return the value associated with the key
         */
        public V getValue() {
            return value;
        }

        /**
         * Replaces the value currently associated with the key with the given
         * value.
         *
         * @return the value associated with the key before this method was
         *         called
         */
        public V setValue(V value) {
            V oldValue = this.value;
            this.value = value;
            return oldValue;
        }

        public boolean equals(Object o) {
            if (!(o instanceof Map.Entry))
                return false;
            Map.Entry<?,?> e = (Map.Entry<?,?>)o;

            return valEquals(key,e.getKey()) && valEquals(value,e.getValue());
        }

        public int hashCode() {
            int keyHash = (key==null ? 0 : key.hashCode());
            int valueHash = (value==null ? 0 : value.hashCode());
            return keyHash ^ valueHash;
        }

        public String toString() {
            return key + "=" + value;
        }
    }
```

### 2.2 TreeSetå®ç°åŸç†



